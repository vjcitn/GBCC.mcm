[{"path":"https://github.com/vjcitn/GBCC.mcm/articles/GBCC.mcm.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"GBCC.mcm overview","text":"package illustrates use MCMICRO spatial proteomics data. Feb 1 2025, code used produce vignette github.com, Bioconductor CRAN.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/articles/GBCC.mcm.html","id":"data-availability","dir":"Articles","previous_headings":"","what":"Data availability","title":"GBCC.mcm overview","text":"Data form h5ad files supplied Jeremy Goecks. ingested transformed SpatialFeatureExperiment instances using process_mcmicro function GBCC.mcm package. Schematic SFE Lambda Moses SpatialFeatureExperiment (SFE) instances serialized using alabaster.sfe, folders zipped placed NSF Open Storage Network. retrieve, cache, deserialize using following code. Available experiments named m62.1(1)4 m62.1.","code":"library(GBCC.mcm) library(alabaster.sfe) library(Voyager) pa = path_to_zipped_mcm(\"m62.1\") tf = tempfile() unzip(pa, exdir=tf) targ = dir(tf, full=TRUE) m62.1 = readObject(targ) m62.1 ## class: SpatialFeatureExperiment  ## dim: 30 8577  ## metadata(1): all_markers ## assays(1): X ## rownames(30): AF488 AF555 ... CD1B CD8A ## rowData names(0): ## colnames(8577): 1 2 ... 8576 8577 ## colData names(12): X_centroid Y_centroid ... phenotype sample_id ## reducedDimNames(0): ## mainExpName: NULL ## altExpNames(0): ## spatialCoords names(2) : X_centroid Y_centroid ## imgData names(4): sample_id image_id data scaleFactor ##  ## unit:  ## Geometries: ## colGeometries: centroids (POINT)  ##  ## Graphs: ## sample01: col: spatNeigh"},{"path":"https://github.com/vjcitn/GBCC.mcm/articles/GBCC.mcm.html","id":"analytic-preparation","dir":"Articles","previous_headings":"","what":"Analytic preparation","title":"GBCC.mcm overview","text":"process_mcmicro ingest MCMICRO-galaxy h5ad output perform basic analytic tasks. “colGraph” produced encode cell-cell distances. Local statistics based Moran’s Getis-Ord Gi* computed. Results tasks bound SFE instances.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/articles/GBCC.mcm.html","id":"spatial-neighborhood-graph","dir":"Articles","previous_headings":"Analytic preparation","what":"Spatial neighborhood graph","title":"GBCC.mcm overview","text":"default spatial neighbors graph experiment retrieved :","code":"plotColGraph(m62.1)"},{"path":"https://github.com/vjcitn/GBCC.mcm/articles/GBCC.mcm.html","id":"local-statistics","dir":"Articles","previous_headings":"Analytic preparation","what":"Local statistics","title":"GBCC.mcm overview","text":"display Z-scores spatial clustering four proteins assayed experiment :","code":"localResultNames(m62.1) ## [1] \"moran.plot\" \"localG\" features_use = c(\"NCAM\", \"FOXP3\", \"CD8A\", \"LDH\") Voyager::plotLocalResult(m62.1, \"localG\", features = features_use,                  colGeometryName = \"centroids\", divergent = TRUE,                  diverge_center = 0)"},{"path":"https://github.com/vjcitn/GBCC.mcm/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Vince Carey. Author, maintainer.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Carey V (2025). GBCC.mcm: MCMICRO analysis examples GBCC 2025. R package version 0.0.6, https://github.com/vjcitn/GBCC.mcm.","code":"@Manual{,   title = {GBCC.mcm: MCMICRO analysis examples for GBCC 2025},   author = {Vince Carey},   year = {2025},   note = {R package version 0.0.6},   url = {https://github.com/vjcitn/GBCC.mcm}, }"},{"path":"https://github.com/vjcitn/GBCC.mcm/index.html","id":"gbccmcm","dir":"","previous_headings":"","what":"MCMICRO analysis examples for GBCC 2025","title":"MCMICRO analysis examples for GBCC 2025","text":"package development presentation Galaxy-Bioconductor Community Conference 2025. main purpose illustrate analysis MCMICRO spatial proteomics experiments. Given image associated protein quantifications platform, computations facilitate biological interpretation? important determinant statistical analysis approach defining distance cells. ’s default cell-cell distance ‘graph’:  ’s alternative neighbor distances given cell produced three nearest cells.  Statistics concerning spatial distributions cell attributes depend upon definition cell-cell distance. Getis-Ord’s Gi* statistic reported Z-score scale used characterize hot spots spatial surveys.  package provide code help explore aspects data analyses.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/available_mcm.html","id":null,"dir":"Reference","previous_headings":"","what":"list available mcmicro spatial proteomics for GBCC — available_mcm","title":"list available mcmicro spatial proteomics for GBCC — available_mcm","text":"list available mcmicro spatial proteomics GBCC","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/available_mcm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"list available mcmicro spatial proteomics for GBCC — available_mcm","text":"","code":"available_mcm(local = FALSE)"},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/available_mcm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"list available mcmicro spatial proteomics for GBCC — available_mcm","text":"local logical(1), TRUE, assume available Sys.getenv(\"MCM_LOCAL\")","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/available_mcm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"list available mcmicro spatial proteomics for GBCC — available_mcm","text":"vector paths","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/default_uruns.html","id":null,"dir":"Reference","previous_headings":"","what":"create a default configuration for several runUnivariate tasks — default_uruns","title":"create a default configuration for several runUnivariate tasks — default_uruns","text":"create default configuration several runUnivariate tasks","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/default_uruns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"create a default configuration for several runUnivariate tasks — default_uruns","text":"","code":"default_uruns(   assay4quants = \"X\",   colGraphName = \"spatNeigh\",   BPPARAM = BiocParallel::bpparam() )"},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/default_uruns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"create a default configuration for several runUnivariate tasks — default_uruns","text":"assay4quants character(1) name assay component use univariate analysis, colGraphName character(1) defaults 'spatNeigh' name used within `process_mcmicro` colGraph production BPPARAM defaults `BiocParallel::bpparam()` value session time function called","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/default_uruns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"create a default configuration for several runUnivariate tasks — default_uruns","text":"closure.  intent value passed vector feature names.  resulting list named elements.  name element 'type' univariate statistical analysis, elements associated element arguments runUnivariate used analysis type.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/default_uruns.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"create a default configuration for several runUnivariate tasks — default_uruns","text":"values supplied dots returned closure must present components desired runUnivariate calls.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/get_mcm_path.html","id":null,"dir":"Reference","previous_headings":"","what":"get path to mcmicro h5ad in package — get_mcm_path","title":"get path to mcmicro h5ad in package — get_mcm_path","text":"get path mcmicro h5ad package","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/get_mcm_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get path to mcmicro h5ad in package — get_mcm_path","text":"","code":"get_mcm_path(tag = \"m62.1\")"},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/get_mcm_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get path to mcmicro h5ad in package — get_mcm_path","text":"tag character(1) one m62.1, ..., m62.4, m62.1","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/path_to_zipped_mcm.html","id":null,"dir":"Reference","previous_headings":"","what":"retrieve a specified zipped takane-formatted SpatialFeatureExperiment from cache, downloading to cache if necessary — path_to_zipped_mcm","title":"retrieve a specified zipped takane-formatted SpatialFeatureExperiment from cache, downloading to cache if necessary — path_to_zipped_mcm","text":"retrieve specified zipped takane-formatted SpatialFeatureExperiment cache, downloading cache necessary","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/path_to_zipped_mcm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"retrieve a specified zipped takane-formatted SpatialFeatureExperiment from cache, downloading to cache if necessary — path_to_zipped_mcm","text":"","code":"path_to_zipped_mcm(   experiment = \"m62.1.sfe.zip\",   local = FALSE,   cache = BiocFileCache::BiocFileCache() )"},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/path_to_zipped_mcm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"retrieve a specified zipped takane-formatted SpatialFeatureExperiment from cache, downloading to cache if necessary — path_to_zipped_mcm","text":"experiment character(1) local logical(1), TRUE, assume available Sys.getenv(\"MCM_LOCAL\") cache like BiocFileCache() value","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/path_to_zipped_mcm.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"retrieve a specified zipped takane-formatted SpatialFeatureExperiment from cache, downloading to cache if necessary — path_to_zipped_mcm","text":"alabaster.sfe's saveObject used zipping results `process_mcmicro` datasets supplied Jeremy Goecks.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/path_to_zipped_mcm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"retrieve a specified zipped takane-formatted SpatialFeatureExperiment from cache, downloading to cache if necessary — path_to_zipped_mcm","text":"","code":"pa = path_to_zipped_mcm() tf = tempfile() unzip(pa, exdir=tf) requireNamespace(\"alabaster.sfe\") #> Loading required namespace: alabaster.sfe dem = alabaster.base::readObject(file.path(tf, \"m62.1.sfe\")) #> >>> Reading SpatialExperiment #> >>> Reading colgeometries #> >>> Reading spatial graphs #> >>> Reading localResults dem #> class: SpatialFeatureExperiment  #> dim: 30 8577  #> metadata(1): all_markers #> assays(1): X #> rownames(30): AF488 AF555 ... CD1B CD8A #> rowData names(0): #> colnames(8577): 1 2 ... 8576 8577 #> colData names(12): X_centroid Y_centroid ... phenotype sample_id #> reducedDimNames(0): #> mainExpName: NULL #> altExpNames(0): #> spatialCoords names(2) : X_centroid Y_centroid #> imgData names(4): sample_id image_id data scaleFactor #>  #> unit:  #> Geometries: #> colGeometries: centroids (POINT)  #>  #> Graphs: #> sample01: col: spatNeigh table(dem$phenotype) #>  #>     CD8 T cells     Endothelial      Epithelial          Immune Myeloid Lineage  #>            2826             146             438             127             856  #>          Stroma  T Helper cells         T cells         Unknown  #>            1164            2320             207             493"},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/process_mcmicro.html","id":null,"dir":"Reference","previous_headings":"","what":"Use Voyager spatial statistics support with MCMICRO proteomics experiments — process_mcmicro","title":"Use Voyager spatial statistics support with MCMICRO proteomics experiments — process_mcmicro","text":"Use Voyager spatial statistics support MCMICRO proteomics experiments","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/process_mcmicro.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use Voyager spatial statistics support with MCMICRO proteomics experiments — process_mcmicro","text":"","code":"process_mcmicro(   h5ad,   uconfig = default_uruns(),   coordnames = c(\"X_centroid\", \"Y_centroid\"),   spneigh_parms = list(),   assay4quants = \"X\",   verbose = TRUE )"},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/process_mcmicro.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use Voyager spatial statistics support with MCMICRO proteomics experiments — process_mcmicro","text":"h5ad character(1) path MCMICRO/galaxy output h5ad format uconfig closure builds runUnivariate calls available features, see `default_uruns` coordnames character() names colData transformed h5ad used specify X, Y spneigh_parms list() arguments (x) Voyager::findSpatialNeighbors, defaults list() assay4quants character(1) name assayNames transformed h5ad used protein quantification verbose logical(1) message stages complete TRUE","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/process_mcmicro.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Use Voyager spatial statistics support with MCMICRO proteomics experiments — process_mcmicro","text":"Voyager::findSpatialNeighbors uses methods spdep package define neighbors.  function, compute `colGraph` component, assumes MARGIN value 2.  example spneigh_parms setting `list(method='knearneigh', k=4)`.","code":""},{"path":"https://github.com/vjcitn/GBCC.mcm/reference/process_mcmicro.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use Voyager spatial statistics support with MCMICRO proteomics experiments — process_mcmicro","text":"","code":"pa = get_mcm_path(\"m62.1\") # by default, moran.plot and localG type univariate analyses are conducted mcm62.1 = process_mcmicro(pa) #> + /Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.20.0/0/bin/conda create --yes --prefix /Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.20.0/zellkonverter/1.18.0/zellkonverterAnnDataEnv-0.11.4 'python=3.13.2' --quiet -c conda-forge --override-channels #> + /Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.20.0/0/bin/conda install --yes --prefix /Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.20.0/zellkonverter/1.18.0/zellkonverterAnnDataEnv-0.11.4 'python=3.13.2' -c conda-forge --override-channels #> + /Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.20.0/0/bin/conda install --yes --prefix /Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.20.0/zellkonverter/1.18.0/zellkonverterAnnDataEnv-0.11.4 -c conda-forge 'python=3.13.2' 'anndata=0.11.4' 'h5py=3.13.0' 'hdf5=1.14.3' 'natsort=8.4.0' 'numpy=2.2.4' 'packaging=24.2' 'pandas=2.2.3' 'python=3.13.2' 'scipy=1.15.2' --override-channels #> findSpatialNeighbors #> runUnivariate moran.plot #> runUnivariate localG features_use = c(\"NCAM\", \"FOXP3\", \"CD8A\", \"LDH\") Voyager::plotLocalResult(mcm62.1, \"localG\", features = features_use,                 colGeometryName = \"centroids\", divergent = TRUE,                 diverge_center = 0, show_axes=TRUE)  mcm62.1b = process_mcmicro(pa, spneigh_parms=list(method=\"knearneigh\", k=3)) #> findSpatialNeighbors #> runUnivariate moran.plot #> runUnivariate localG Voyager:::plotColGraph(mcm62.1b)  Voyager::plotLocalResult(mcm62.1b, \"localG\", features = features_use,                 colGeometryName = \"centroids\", divergent = TRUE,                 diverge_center = 0)"}]
